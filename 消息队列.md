消息队列

核心三要素：

1. 解耦

   将系统之间的调用解耦，将消息发布，系统自己决定订阅与消费。

2. 异步

   对服务的请求，异步化，减小响应时间。

3. 削峰

   将高峰期的请求打入消息队列，限制消费的最大请求数。

缺点

1. 系统可用性降低

   系统引用的外部依赖越多，稳定性越差。消息队列的奔溃将导致系统崩溃。这时候需考虑消息队列的高可用。

2. 系统复杂度提高

   消息的重复消费，消息的丢失，消息传递的顺序等一大堆问题。

3. 一致性问题

   消息消费失败导致的数据不一致问题。

消息队列的种类

1. Kafka

   架构：生产者—>topic—>消费者（消费组）

2. ActiceMQ

3. RabbitMQ

4. RocketMQ

